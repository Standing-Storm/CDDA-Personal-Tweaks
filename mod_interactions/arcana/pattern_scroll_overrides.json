[
  {
    "//": "Difficulty to learn permanent spell is spell (Difficulty / 10) + 4",
    "id": "scroll_spell_phase_shield",
    "copy-from": "scroll_spell_phase_shield",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Halo of the Sun)", "str_pl": "Pattern Scrolls (Halo of the Sun)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_phase_shield",
          "condition": { "math": [ "u_spell_level('arcana_magic_phase_shield')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "11" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_phase_shield')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, radiant designs seemingly bursting out from the paper…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, radiant designs seemingly bursting out from the paper…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 7" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_earthweaving",
    "copy-from": "scroll_spell_earthweaving",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Earthweaving)", "str_pl": "Pattern Scrolls (Earthweaving)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_earthweaving",
          "condition": { "math": [ "u_spell_level('arcana_magic_earthweaving')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "8" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_earthweaving')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, shifting intertwinned thorns and stony motifs…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, shifting intertwinned thorns and stony motifs…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 4" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_dark_lance",
    "copy-from": "scroll_spell_dark_lance",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Tenebrous Lance)", "str_pl": "Pattern Scrolls (Tenebrous Lance)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_dark_lance",
          "condition": { "math": [ "u_spell_level('arcana_magic_dark_lance')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "9" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_dark_lance')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, the text seeming to frost over…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                { "u_message": "You gaze deep into the strange patterns, the text seeming to frost over…", "type": "good" },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 5" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_sun",
    "copy-from": "scroll_spell_sun",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Banish the Beyond)", "str_pl": "Pattern Scrolls (Banish the Beyond)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_sun",
          "condition": { "math": [ "u_spell_level('arcana_magic_consecrate')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "10" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_consecrate')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, resembling rays of light shrouded in wings…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, resembling rays of light shrouded in wings…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 6" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_moon",
    "copy-from": "scroll_spell_moon",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Hyperborean Mantle)", "str_pl": "Pattern Scrolls (Hyperborean Mantle)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_moon",
          "condition": { "math": [ "u_spell_level('arcana_magic_cold_ward')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "9" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_cold_ward')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, constellations of alien skies…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                { "u_message": "You gaze deep into the strange patterns, constellations of alien skies…", "type": "good" },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 5" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_artiface",
    "copy-from": "scroll_spell_artiface",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Cleaving the Living Earth)", "str_pl": "Pattern Scrolls (Cleaving the Living Earth)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_artiface",
          "condition": { "math": [ "u_spell_level('arcana_magic_sundering_quake')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "12" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_sundering_quake')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, alien symbols and artwork contorted into more orderly forms…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, alien symbols and artwork contorted into more orderly forms…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 8" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_nature",
    "copy-from": "scroll_spell_nature",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Wrath of the Elements)", "str_pl": "Pattern Scrolls (Wrath of the Elements)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_nature",
          "condition": { "math": [ "u_spell_level('arcana_magic_elemental_burst')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "11" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_elemental_burst')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, stirring strange instinctive responses in the back of your mind…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, stirring strange instinctive responses in the back of your mind…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 7" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_destruction",
    "copy-from": "scroll_spell_destruction",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Call Forth the Crawling Ones)", "str_pl": "Pattern Scrolls (Call Forth the Crawling Ones)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_destruction",
          "condition": { "math": [ "u_spell_level('arcana_magic_summon_giant_centipedes')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "10" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_summon_giant_centipedes')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, strange linear patterns giving way to more organic motifs…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, strange linear patterns giving way to more organic motifs…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 6" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_subversion",
    "copy-from": "scroll_spell_subversion",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Eclipse)", "str_pl": "Pattern Scrolls (Eclipse)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_subversion",
          "condition": { "math": [ "u_spell_level('arcana_magic_eclipse')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "13" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_eclipse')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, symbols fading into incomprehensible motifs…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, symbols fading into incomprehensible motifs…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 9" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_agile",
    "copy-from": "scroll_spell_agile",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Zéphuros's Grace)", "str_pl": "Pattern Scrolls (Zéphuros's Grace)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_agile",
          "condition": { "math": [ "u_spell_level('arcana_magic_agility')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "10" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_agility')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, endless spirals weaving through each other…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                { "u_message": "You gaze deep into the strange patterns, an overlapping web of exotic eye motifs…", "type": "good" },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 6" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_clairvoyance",
    "copy-from": "scroll_spell_clairvoyance",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Sight Beyond Sight)", "str_pl": "Pattern Scrolls (Sight Beyond Sight)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_clairvoyance",
          "condition": { "math": [ "u_spell_level('arcana_magic_clairvoyance')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "10" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_clairvoyance')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, an overlapping web of exotic eye motifs…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                { "u_message": "You gaze deep into the strange patterns, an overlapping web of exotic eye motifs…", "type": "good" },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 6" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_clarity",
    "copy-from": "scroll_spell_clarity",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Clarity of Blood)", "str_pl": "Pattern Scrolls (Clarity of Blood)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_clarity",
          "condition": { "math": [ "u_spell_level('arcana_magic_clarity_blood')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "8" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_clarity_blood')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, an alchemical circle with seemingly impossible geometries…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, an alchemical circle with seemingly impossible geometries…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 4" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_confusion",
    "copy-from": "scroll_spell_confusion",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Anointment of Lunacy)", "str_pl": "Pattern Scrolls (Anointment of Lunacy)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_confusion",
          "condition": { "math": [ "u_spell_level('arcana_magic_confuse_monster')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "7" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_confuse_monster')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, a ring of unearthly calligraphy giving way to inhuman imagery…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, a ring of unearthly calligraphy giving way to inhuman imagery…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 4" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_acidspray",
    "copy-from": "scroll_spell_acidspray",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Caustic Eruption)", "str_pl": "Pattern Scrolls (Caustic Eruption)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_acidspray",
          "condition": { "math": [ "u_spell_level('arcana_magic_conjure_acid')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "8" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_conjure_acid')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, dizzying orbital diagrams almost resembling a model of some complex chemical compound…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, dizzying orbital diagrams almost resembling a model of some complex chemical compound…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 4" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_free_action",
    "copy-from": "scroll_spell_free_action",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (The Unbound Heart)", "str_pl": "Pattern Scrolls (The Unbound Heart)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_free_action",
          "condition": { "math": [ "u_spell_level('arcana_magic_free_action')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "7" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_free_action')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, intricate lines giving a three-dimensional impression…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, intricate lines giving a three-dimensional impression…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 3" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_heal",
    "copy-from": "scroll_spell_heal",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Corporeal Restoration)", "str_pl": "Pattern Scrolls (Corporeal Restoration)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_heal",
          "condition": { "math": [ "u_spell_level('arcana_magic_healing')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "10" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_healing')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, complex anatomical imagery mingled with unearthly diagrams…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, complex anatomical imagery mingled with unearthly diagrams…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 6" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_flame_armor",
    "copy-from": "scroll_spell_flame_armor",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Forge-Hardened Flesh)", "str_pl": "Pattern Scrolls (Forge-Hardened Flesh)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_flame_armor",
          "condition": { "math": [ "u_spell_level('arcana_magic_heat_ward')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "9" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_heat_ward')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, strange designs that waver like dancing flames…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, strange designs that waver like dancing flames…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 5" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_insight",
    "copy-from": "scroll_spell_insight",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Opening the Inner Eye)", "str_pl": "Pattern Scrolls (Opening the Inner Eye)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_insight",
          "condition": { "math": [ "u_spell_level('arcana_magic_insight')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "7" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_insight')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, peculiar symbols blending in with scenery of surreal perspectives…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, peculiar symbols blending in with scenery of surreal perspectives…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 3" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_elecresist",
    "copy-from": "scroll_spell_elecresist",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (The Eye of the Storm)", "str_pl": "Pattern Scrolls (The Eye of the Storm)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_elecresist",
          "condition": { "math": [ "u_spell_level('arcana_magic_lightning_ward')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "8" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_lightning_ward')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, endless linear paths intersecting and bending in ways defying the laws of geometry…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, endless linear paths intersecting and bending in ways defying the laws of geometry…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 4" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_might",
    "copy-from": "scroll_spell_might",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Otherworldly Potence)", "str_pl": "Pattern Scrolls (Otherworldly Potence)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_might",
          "condition": { "math": [ "u_spell_level('arcana_magic_might')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "9" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_might')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, a maze of patterns bleeding into vague impressions of otherworldly animals…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, a maze of patterns bleeding into vague impressions of otherworldly animals…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 5" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_plants",
    "copy-from": "scroll_spell_plants",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (A Spread of Rampant Green)", "str_pl": "Pattern Scrolls (A Spread of Rampant Green)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_plants",
          "condition": { "math": [ "u_spell_level('arcana_magic_overgrowth')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "7" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_overgrowth')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, weaving in and all throughout itself like ever-shifting ivy…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, weaving in and all throughout itself like ever-shifting ivy…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 2" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_invis",
    "copy-from": "scroll_spell_invis",
    "//": "ID retained to avoid breaking stuff.",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Obsidian Mantle of Darkness)", "str_pl": "Pattern Scrolls (Obsidian Mantle of Darkness)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_invis",
          "condition": { "math": [ "u_spell_level('arcana_magic_serpentine_shield')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "10" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_serpentine_shield')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, coiled serpentine lines winding into endless ouroboros motifs…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, coiled serpentine lines winding into endless ouroboros motifs…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 6" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_lightning",
    "copy-from": "scroll_spell_lightning",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Fulminating Wave)", "str_pl": "Pattern Scrolls (Fulminating Wave)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_lightning",
          "condition": { "math": [ "u_spell_level('arcana_magic_shockstorm')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "6" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_shockstorm')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, irregular jagged artwork folding in on itself…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, irregular jagged artwork folding in on itself…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 2" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  },
  {
    "id": "scroll_spell_cleric",
    "copy-from": "scroll_spell_cleric",
    "type": "ITEM",
    "subtypes": [ "COMESTIBLE" ],
    "name": { "str": "Pattern Scroll (Abjuration of the Darkness)", "str_pl": "Pattern Scrolls (Abjuration of the Darkness)" },
    "use_action": {
      "type": "effect_on_conditions",
      "description": "Study the scroll",
      "effect_on_conditions": [
        {
          "id": "EOC_scroll_spell_cleric",
          "condition": { "math": [ "u_spell_level('arcana_magic_ward_against_evil')", "<=", "0" ] },
          "effect": [
            {
              "if": { "math": [ "u_skill('magic') + ( rng(-5,5) + rng(-5,5) )", ">=", "9" ] },
              "then": [
                { "math": [ "u_spell_level('arcana_magic_ward_against_evil')", "=", "1" ] },
                {
                  "u_message": "You gaze deep into the strange patterns, endless symbols and charts blending in with otherworldly iconography…",
                  "type": "good"
                },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ],
              "else": [
                {
                  "u_message": "You gaze deep into the strange patterns, endless symbols and charts blending in with otherworldly iconography…",
                  "type": "good"
                },
                {
                  "u_message": "As the patterns swirl, your head starts to pound!  You tear your gaze away as the patterns fade.",
                  "type": "bad"
                },
                { "math": [ "u_pain()", "+=", "rand(10) + 5" ] },
                { "u_spawn_item": "scroll_blank", "count": 1, "suppress_message": true }
              ]
            }
          ]
        }
      ]
    }
  }
]
