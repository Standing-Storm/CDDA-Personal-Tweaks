[
   "type": "talk_topic",
    "id": "TALK_PERK_MENU_MAIN",
    "dynamic_line": "Lifestyle Perks:\nLevel <u_val:current_level>.\n<u_val:num_perks> perk points to spend.\nCurrent EXP: <u_val:available_exp>.\nEXP to next level: <u_val:exp_to_perk>.",
    "responses": [
      {
        "condition": { "not": { "u_has_trait": "perk_STR_UP_2" } },
        "text": "Gain [<trait_name:perk_STR_UP_2>]",
        "effect": [
          { "set_string_var": "<trait_name:perk_STR_UP_2>", "target_var": { "context_val": "trait_name" } },
          {
            "set_string_var": "<trait_description:perk_STR_UP_2>",
            "target_var": { "context_val": "trait_description" }
          },
          { "set_string_var": "perk_STR_UP_2", "target_var": { "context_val": "trait_id" } },
          { "set_string_var": "Must have the Stronger perk.", "target_var": { "context_val": "trait_requirement_description" } },
          { "set_condition": "perk_condition", "condition": { "u_has_trait": "perk_STR_UP" } }
        ],
        "topic": "TALK_PERK_MENU_SELECT"
      },
      {
        "condition": { "not": { "u_has_trait": "perk_DEX_UP" } },
        "text": "Gain [<trait_name:perk_DEX_UP_2>]",
        "effect": [
          { "set_string_var": "<trait_name:perk_DEX_UP_2>", "target_var": { "context_val": "trait_name" } },
          {
            "set_string_var": "<trait_description:perk_DEX_UP_2>",
            "target_var": { "context_val": "trait_description" }
          },
          { "set_string_var": "perk_DEX_UP_2", "target_var": { "context_val": "trait_id" } },
          { "set_string_var": "Must have the Faster perk", "target_var": { "context_val": "trait_requirement_description" } },
          { "set_condition": "perk_condition", "condition": { "u_has_trait": "perk_DEX_UP" } }
        ],
        "topic": "TALK_PERK_MENU_SELECT"
      },
      {
        "condition": { "not": { "u_has_trait": "perk_INT_UP_2" } },
        "text": "Gain [<trait_name:perk_INT_UP_2>]",
        "effect": [
          { "set_string_var": "<trait_name:perk_INT_UP_2>", "target_var": { "context_val": "trait_name" } },
          {
            "set_string_var": "<trait_description:perk_INT_UP_2>",
            "target_var": { "context_val": "trait_description" }
          },
          { "set_string_var": "perk_INT_UP_2", "target_var": { "context_val": "trait_id" } },
          { "set_string_var": "Must have the Smarter perk", "target_var": { "context_val": "trait_requirement_description" } },
          { "set_condition": "perk_condition", "condition": { "u_has_trait": "perk_INT_UP" } }
        ],
        "topic": "TALK_PERK_MENU_SELECT"
      },
      {
        "condition": { "not": { "u_has_trait": "perk_PER_UP_2" } },
        "text": "Gain [<trait_name:perk_PER_UP_2>]",
        "effect": [
          { "set_string_var": "<trait_name:perk_PER_UP_2>", "target_var": { "context_val": "trait_name" } },
          {
            "set_string_var": "<trait_description:perk_PER_UP_2>",
            "target_var": { "context_val": "trait_description" }
          },
          { "set_string_var": "perk_PER_UP_2", "target_var": { "context_val": "trait_id" } },
          { "set_string_var": "Must have the Sharper perk", "target_var": { "context_val": "trait_requirement_description" } },
          { "set_condition": "perk_condition", "condition": { "u_has_trait": "perk_PER_UP" } }
        ],
        "topic": "TALK_PERK_MENU_SELECT"
      }
    ]
